# Scripts

This directory contains utility scripts for the UI Kit project.

## generate-branch-index.js

Generates an index.html page that lists all deployed branches in the gh-pages branch structure. This provides a landing page where users can discover and navigate to Storybook builds for all active branches.

### Features

- Scans directories in the gh-pages branch
- Generates a clean, accessible HTML page with links to each branch's Storybook
- Includes branch name and last updated timestamp for each branch
- Responsive design with light/dark mode support
- Sorts branches by last modified date (newest first)
- Excludes system directories (.git, .github, node_modules, etc.)

### Usage

#### Via pnpm script (recommended)

```bash
# Generate index in current directory
pnpm generate-branch-index

# Generate index in specific directory
pnpm generate-branch-index /path/to/gh-pages
```

#### Direct execution

```bash
# Generate index in current directory
node scripts/generate-branch-index.js

# Generate index in specific directory
node scripts/generate-branch-index.js /path/to/gh-pages
```

### Example Output

The script generates an HTML page with:
- Header with project title and description
- Count of available branches
- List of branches with:
  - Branch name (as clickable link)
  - Last updated timestamp
  - Hover effects and visual feedback
- Footer with generation timestamp
- Responsive design for mobile and desktop
- Automatic light/dark mode based on system preferences

### Integration with CI/CD

This script is designed to be run as part of your GitHub Pages deployment workflow. Example usage in GitHub Actions:

```yaml
- name: Generate branch index
  run: |
    cd gh-pages
    pnpm generate-branch-index
```

### Directory Structure

The script expects the following structure:

```
gh-pages/
├── main/              (branch deployment)
├── feature-button/    (branch deployment)
├── fix-styles/        (branch deployment)
└── index.html         (generated by this script)
```

Each branch directory should contain a Storybook build accessible at `<branch-name>/index.html`.
